<div class="nui-step-header-ripple"></div>
<div class="nui-wizard-step-label"
     [class.nui-wizard-step-label-active]="completed"
     [class.nui-wizard-step-label-selected]="selected"
     [class.nui-wizard-step-label-error]="state == 'error'">

    <!-- If there is a label template, use it. -->
    <ng-container *ngIf="_templateLabel()" [ngTemplateOutlet]="_templateLabel()!.template">
    </ng-container>

    <!-- If there is no label template, fall back to the text label. -->
    <div class="nui-wizard-step-text-label" *ngIf="_stringLabel()">{{label}}</div>

    <div class="nui-step-optional" *ngIf="optional && state != 'error'">{{optionalLabel}}</div>
    <div class="nui-step-sub-label-error" *ngIf="state == 'error'">{{errorMessage}}</div>
</div>

<div class="nui-step-icon-state-{{state}} nui-wizard-step-icon" [class.nui-step-icon-selected]="selected">
    <div class="nui-step-icon-content" [ngSwitch]="!!(iconOverrides && iconOverrides[state])">
        <span class="nui-icon-container">
            <ng-container
                *ngSwitchCase="true"
                [ngTemplateOutlet]="iconOverrides[state]"
                [ngTemplateOutletContext]="_getIconContext()"></ng-container>
            <ng-container *ngSwitchDefault>
                <nui-icon icon="{{_getDefaultIconForState(state)}}"></nui-icon>
            </ng-container>
        </span>
    </div>
</div>
