<div>
    <label *ngIf="caption" class="nui-sorter__label">{{caption}}</label>
    <div class="btn-group nui-sorter__popup">
        <div class="d-inline-block" #toggleRef>
            <button nui-button
                    type="button"
                    class="nui-sorter__toggle-button"
                    [icon]="getSortIcon()"
                    (click)="toggleSortDirection()">
                <span class="nui-sorter__display-value">{{ getSelectedItemTitle() }}</span>
            </button>
            <button nui-button
                    type="button"
                    role="select"
                    class="nui-selector__toggle"
                    (click)="overlay.toggle()"
                    icon="caret-down">
            </button>
        </div>
    </div>

    <div #popupArea></div>

    <nui-overlay #overlay
                 [toggleReference]="toggleRef"
                 [overlayConfig]="overlayConfig"
                 [customContainer]="customContainer">
        <nui-menu-popup [itemsSource]="items" (menuItemClicked)="select($event)"></nui-menu-popup>
    </nui-overlay>
</div>
