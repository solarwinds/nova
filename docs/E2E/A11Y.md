# ♿ Accessibility (a11y) Testing in Playwright

Playwright provides built-in support for accessibility (a11y) testing through its integration with the [Accessibility Tree](https://developer.mozilla.org/en-US/docs/Web/Accessibility/Accessibility_tree). This document covers how to set up, run, and write accessibility tests using Playwright.

---

## 📦 1. Setup

If you're using `@playwright/test`, no additional packages are needed.

### ✅ Install Playwright (if not already)

```bash
npm install --save-dev @playwright/test
npx playwright install
```

## 🚀 2. How to Run Accessibility Tests
You can run accessibility checks as part of your test suite using the accessibility.snapshot() API, which returns the accessibility tree of the current page or element.

### 🧪 Run all Playwright tests:
```bash
yarn run a11y:playwright
```

## ✍️ 3-a. How to Write a11y Tests
Playwright allows you to programmatically inspect the accessibility tree.

✅ Example: Basic a11y Snapshot Test
```ts
import { test, expect } from '@playwright/test';
import AxeBuilder from '@axe-core/playwright';

test.describe('Accessibility Tests', () => {
  test('should have no detectable accessibility violations on load', async ({ page }) => {
    await page.goto('https://your-website.com');
    const accessibilityScanResults = await new AxeBuilder({ page }).analyze();
    expect(accessibilityScanResults.violations).toEqual([]);
  });
});

```
## 🧪 3-b. Writing Tests with the Shared Fixture
Use the shared `runA11yScan` helper in your tests.

```ts
// tests/accessibility.spec.ts
import { test, expect } from '../fixtures/a11y-fixture';

test.describe('Accessibility checks', () => {
  test('Page should have no a11y violations', async ({ page, runA11yScan }) => {
    await page.goto('https://your-website.com');
    await runA11yScan();
  });

  test('Only header section should pass a11y rules', async ({ page, runA11yScan }) => {
    await page.goto('https://your-website.com');
    await runA11yScan('#main-header');
  });
});

```
✅ Benefits of Using Fixtures

```text
Centralized axe-core config (e.g., tags, rules, includes).
Less repetitive setup code.
Scalable for large test suites.
```

### 🧩 Optional: HTML Report with axe-html-reporter
You can extend the fixture to generate HTML reports by integrating the axe-html-reporter.

